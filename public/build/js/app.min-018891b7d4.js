app||(app={}),function(e,t,r){app.Intereses1Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("generarintereses.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,r){app.Intereses2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("enviarintereses.detalle.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,r){app.ModuloModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("roles.permisos.index"))},idAttribute:"id",defaults:{name:"",display_name:"",nivel1:"",nivel2:"",nivel3:"",nivel4:""}})}(this,this.document),app||(app={}),function(e,t,r){app.RolModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("roles.index"))},idAttribute:"id",defaults:{name:"",display_name:"",description:"",permissions:[]}})}(this,this.document),app||(app={}),function(e,t,r){app.PermisosRolList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("roles.permisos.index"))},model:app.ModuloModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,r){app.Intereses2List=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("enviarintereses.detalle.index"))},model:app.Intereses2Model,initialize:function(){},subtotal:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("intereses2_saldo"))},0)},intereses:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("intereses2_interes"))},0)},iva:function(){return this.reduce(function(e,t){return e+(t.get("intereses2_saldo")-t.get("factura1_iva"))*t.get("intereses1_tasa")/100/30*t.get("intereses2_dias_a_cobrar")},0)},totalize:function(){var e=this.subtotal(),t=this.intereses(),r=this.iva();return{subtotal:e,intereses:t,iva:r}}})}(this,this.document),app||(app={}),function(e,t,r,i){app.ConfirmWindow=Backbone.View.extend({el:"#modal-confirm-component",parameters:{template:null,titleConfirm:"",onConfirm:null,callBack:null,dataFilter:{}},initialize:function(e){e!=i&&_.isObject(e.parameters)&&(this.parameters=_.extend({},this.parameters,e.parameters))},render:function(){var t={};return _.extend(t,this.parameters.dataFilter),this.$el.find(".content-modal").html(this.parameters.template(t)),this.$el.find(".inner-title-modal").html(this.parameters.titleConfirm),this.$el.modal("show"),e(this.el).off("click",".confirm-action"),this.undelegateEvents(),this.delegateEvents({"click .confirm-action":"onConfirm"}),this},onConfirm:function(e){e.preventDefault();this.$el.modal("hide"),"function"==typeof this.parameters.onConfirm&&this.parameters.onConfirm.call(null,this.parameters.dataFilter)}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.ComponentGlobalView=Backbone.View.extend({el:"body",events:{"click .sidebar-toggle":"clickSidebar","hidden.bs.modal":"multiModal"},initialize:function(){},clickSidebar:function(e){e.preventDefault();var t=new Date;t.setFullYear(t.getFullYear()+1),r.cookie="sidebar_toggle="+(this.$el.hasClass("sidebar-collapse")?"":"sidebar-collapse")+"; path=/; expires="+t.toUTCString()},multiModal:function(){e(".modal.in").length>0&&e("body").addClass("modal-open")}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.ComponentReporteView=Backbone.View.extend({el:"body",events:{"click .btn-export-pdf-koi-component":"onPdf","click .btn-export-xls-koi-component":"onXls"},initialize:function(){},onPdf:function(e){this.$("#type-reporte-koi-component").val("pdf")},onXls:function(e){this.$("#type-reporte-koi-component").val("xls")}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.ComponentSearchTerceroView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-tercero-component-tpl").html()||""),events:{"change input.tercero-koi-component":"terceroChanged","click .btn-koi-search-tercero-component-table":"searchTercero","click .btn-search-koi-search-tercero-component":"search","click .btn-clear-koi-search-tercero-component":"clear","click .a-koi-search-tercero-component-table":"setTercero"},initialize:function(){this.$modalComponent=this.$("#modal-search-component")},searchTercero:function(r){r.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchNit=this.$("#koi_search_tercero_nit"),this.$searchName=this.$("#koi_search_tercero_nombre"),this.$tercerosSearchTable=this.$modalComponent.find("#koi-search-tercero-component-table"),this.$inputContent=this.$("#"+e(r.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.tercerosSearchTable=this.$tercerosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.index")),data:function(e){e.tercero_nit=i.$searchNit.val(),e.tercero_nombre=i.$searchName.val()}},columns:[{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razon_social",name:"tercero_razon_social"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"}],columnDefs:[{targets:0,width:"15%",searchable:!1,render:function(e,t,r,i){return'<a href="#" class="a-koi-search-tercero-component-table">'+e+"</a>"}},{targets:1,width:"85%",searchable:!1},{targets:[2,3,4,5,6],visible:!1,searchable:!1}]}),this.ready(),this.$modalComponent.modal("show")},setTercero:function(t){t.preventDefault();var r=this.tercerosSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(r.tercero_nit),this.$inputName.val(r.tercero_nombre),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.tercerosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchNit.val(""),this.$searchName.val(""),this.tercerosSearchTable.ajax.reload()},terceroChanged:function(r){var i=this;this.$inputContent=e(r.currentTarget),this.$inputName=this.$("#"+e(r.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(r.currentTarget).attr("data-wrapper"));var n=this.$inputContent.val();this.$inputName.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("terceros.search")),type:"GET",data:{tercero_nit:n},beforeSend:function(){i.$inputName.val(""),t.Misc.setSpinner(i.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(i.$wraperConten),e.success&&(_.isUndefined(e.tercero_nombre)||_.isNull(e.tercero_nombre)||i.$inputName.val(e.tercero_nombre))}).fail(function(e,r,n){t.Misc.removeSpinner(i.$wraperConten),alertify.error(n)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.DetalleInteresItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#enviarinterese-detalle-item-tpl").html()||""),initialize:function(e){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.DetalleInteresView=Backbone.View.extend({el:"#browse-interes-detalle-list",parameters:{dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$subtotal=this.$("#subtotal"),this.$intereses=this.$("#intereses"),this.$totaliva=this.$("#total-iva"),this.$total=this.$("#total"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},addOne:function(e){var t=new app.DetalleInteresItemView({model:e});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},totalize:function(){var e=this.collection.totalize(),r=e.iva*(this.parameters.dataFilter.empresa_iva/100),i=r+e.intereses;this.$subtotal.length&&this.$subtotal.html(t.Misc.currency(e.subtotal)),this.$intereses.length&&this.$intereses.html(t.Misc.currency(e.intereses)),this.$totaliva.length&&this.$totaliva.html(t.Misc.currency(r)),this.$total.length&&this.$total.html(t.Misc.currency(i))},loadSpinner:function(e,r,i){t.Misc.setSpinner(this.el)},responseServer:function(e,r,i){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.MainEnviarInteresView=Backbone.View.extend({el:"#enviarintereses-main",events:{"click .btn-search":"search","click .btn-clear":"clear","ifToggled .select-all":"selectAll","ifChanged .checkboxes-table":"estadoChecks"},initialize:function(){var r=this;this.$enviarinteresesSearchTable=this.$("#enviarintereses-search-table"),this.$selectAll=this.$(".select-all"),this.$searchinteresNumero=this.$("#searchinteres_numero"),this.$searchinteresTercero=this.$("#searchinteres_tercero"),this.$searchinteresTerceroNombre=this.$("#searchinteres_tercero_nombre"),this.$searchinteresMes=this.$("#searchinteres_mes"),this.$searchinteresAno=this.$("#searchinteres_ano"),this.enviarinteresesSearchTable=this.$enviarinteresesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,deferRender:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("enviarintereses.index")),data:function(e){e.persistent=!0,e.intereses1_numero=r.$searchinteresNumero.val(),e.intereses1_mes=r.$searchinteresMes.val(),e.intereses1_ano=r.$searchinteresAno.val(),e.tercero_nit=r.$searchinteresTercero.val(),e.tercero_nombre=r.$searchinteresTerceroNombre.val()}},columns:[{data:"id",name:"id"},{data:"intereses1_numero",name:"intereses1_numero"},{data:"sucursal_nombre",name:"sucursal_nombre"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"intereses1_tasa",name:"intereses1_tasa"},{data:"intereses1_dias_gracia",name:"intereses1_dias_gracia"},{data:"intereses1_fecha",name:"intereses1_fecha"},{data:"intereses1_usuario_elaboro",name:"intereses1_usuario_elaboro"},{data:"intereses1_enviado",name:"intereses1_enviado"}],order:[[1,"desc",6,"desc"]],columnDefs:[{targets:0,width:"1%",orderable:!1,searchable:!1,render:function(e,t,r){return"<input type='checkbox' name='id_"+e+"' class='checkboxes-table' value='"+e+"'/>"}},{targets:1,render:function(e,r,i,n){return'<a href="'+t.Misc.urlFull(Route.route("enviarintereses.show",{enviarintereses:i.id}))+'">'+e+"</a>"}},{targets:8,render:function(e,t,r,i){return e?"Si":"No"}}],buttons:[{text:"Enviar",className:"enviar",action:function(){var e=r.enviarinteresesSearchTable.$('input[type="checkbox"]');r.enviarinteresesSearchTable.$('input[type="checkbox"]').is(":checked")&&r.confimSend(e)}}],fnRowCallback:function(t,r){r.intereses1_anulado?e(t).css({color:"red"}):e(t).css({color:"#00a65a"})}}),this.enviarinteresesSearchTable.on("draw",function(){r.$selectAll.iCheck("uncheck"),r.ready()})},selectAll:function(t){var r=this.enviarinteresesSearchTable.rows({search:"applied"}).nodes();e('input[type="checkbox"]',r).prop("checked",this.$(t.currentTarget).is(":checked")).iCheck("update")},estadoChecks:function(e){this.$(e.currentTarget).is(":checked")||this.$selectAll.is(":checked")&&this.$selectAll.iCheck("indeterminate")},confimSend:function(r){var i=this,n=t.Misc.formToJson(r),s=new t.app.ConfirmWindow({parameters:{template:_.template(e("#interes-enviar-confirm-tpl").html()||""),titleConfirm:"Enviar intereses",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("enviarintereses.enviar",n)),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.el)}}).done(function(e){if(t.Misc.removeSpinner(i.el),!_.isUndefined(e.success)){var r=e.success?"":e.errors;if(_.isObject(e.errors)&&(r=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(r);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("enviarintereses.index")))}}).fail(function(e,r,n){t.Misc.removeSpinner(i.el),alertify.error(n)})}}});s.render()},search:function(e){e.preventDefault(),this.enviarinteresesSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchinteresNumero.val(""),this.$searchinteresTercero.val(""),this.$searchinteresTerceroNombre.val(""),this.$searchinteresMes.val(""),this.$searchinteresAno.val(""),this.enviarinteresesSearchTable.page.len(10).draw(),this.enviarinteresesSearchTable.ajax.reload()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.ShowEnviarInteresView=Backbone.View.extend({el:"#enviarintereses-show",events:{"click .anular-interes":"amularInteres","click .export-interes":"exportInteres"},initialize:function(){this.detalleInteresList=new app.Intereses2List,this.empresaiva=this.$("#empresa_iva").val(),this.referenceViews()},amularInteres:function(r){r.preventDefault();var i=this,n=new t.app.ConfirmWindow({parameters:{template:_.template(e("#interes-anular-confirm-tpl").html()||""),titleConfirm:"Anular interés",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("enviarintereses.anular",{enviarinteres:i.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){if(t.Misc.removeSpinner(i.spinner),!_.isUndefined(e.success)){var r=e.success?"":e.errors;if(_.isObject(e.errors)&&(r=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(r);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("enviarintereses.show",{enviarintereses:i.model.get("id")})))}}).fail(function(e,r,n){t.Misc.removeSpinner(i.spinner),alertify.error(n)})}}});n.render()},exportInteres:function(e){e.preventDefault(),t.open(t.Misc.urlFull(Route.route("enviarintereses.exportar",{enviarinteres:this.model.get("id")})))},referenceViews:function(){this.detalleInteresView=new app.DetalleInteresView({collection:this.detalleInteresList,parameters:{dataFilter:{interes:this.model.get("id"),empresa_iva:parseInt(this.empresaiva)}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.MainGenerarInteresView=Backbone.View.extend({el:"#intereses-main",events:{"click .sumbit-generarintereses":"sumbitIntereses","submit #form-generar-intereses":"onStore"},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$form=this.$("#form-generar-intereses"),this.ready()},sumbitIntereses:function(e){this.$form.submit()},onStore:function(r){var i=this;if(!r.isDefaultPrevented()){r.preventDefault();var n=t.Misc.formToJson(r.target);e.ajax({type:"POST",url:t.Misc.urlFull(Route.route("generarintereses.store")),data:n,beforeSend:function(){t.Misc.setSpinner(i.el)}}).done(function(e){if(t.Misc.removeSpinner(i.el),!_.isUndefined(e.success)){var r=e.success?"":e.errors;if(_.isObject(e.errors)&&(r=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(r)}t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("generarintereses.index")))}).fail(function(e,r,n){t.Misc.removeSpinner(i.el),alertify.error(n)})}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.UserLoginView=Backbone.View.extend({el:"#login-box",initialize:function(){this.$loginForm=e("#form-login-account"),this.$loginForm.validator()},render:function(){}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.MainPermisoView=Backbone.View.extend({el:"#permisos-main",initialize:function(){this.$permisosSearchTable=this.$("#permisos-search-table"),this.$permisosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("permisos.index")),columns:[{data:"name",name:"name"},{data:"display_name",name:"display_name"},{data:"description",name:"description"}],columnDefs:[{targets:0,width:"15%"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.CreateRolView=Backbone.View.extend({el:"#rol-create",template:_.template(e("#add-rol-tpl").html()||""),events:{"submit #form-roles":"onStore"},initialize:function(){this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!1,this.$el.html(this.template(e)),this.spinner=this.$("#spinner-main")},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var r=t.Misc.formToJson(e.target);this.model.save(r,{patch:!0,silent:!0})}},loadSpinner:function(e,r,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,r,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(r.success)){var n=r.success?"":r.errors;if(_.isObject(r.errors)&&(n=t.Misc.parseErrors(r.errors)),!r.success)return void alertify.error(n);Backbone.history.navigate(Route.route("roles.edit",{roles:r.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.CreatePermisoRolView=Backbone.View.extend({el:"#modal-permisorol-component",template:_.template(e("#edit-permissions-tpl").html()||""),events:{"submit #form-permisorol-component":"onStore"},parameters:{permissions:[],dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$el.find(".inner-title-modal").empty().html(this.model.get("display_name")),this.$wraperContent=this.$el.find(".modal-body"),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();return e.permissions=this.parameters.permissions,this.$el.find(".content-modal").empty().html(this.template(e)),this.ready(),this.$el.modal("show"),this},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var r=t.Misc.formToJson(e.target);r.role_id=this.parameters.dataFilter.role_id,this.model.save(r,{patch:!0})}},loadSpinner:function(e,r,i){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,r,i){if(t.Misc.removeSpinner(this.$wraperContent),!_.isUndefined(r.success)){var n=r.success?"":r.errors;if(_.isObject(r.errors)&&(n=t.Misc.parseErrors(r.errors)),!r.success)return void alertify.error(n);this.collection.fetch({data:this.parameters.dataFilter,reset:!0}),this.$el.modal("hide")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.EditRolView=Backbone.View.extend({el:"#rol-create",template:_.template(e("#add-rol-tpl").html()||""),events:{"submit #form-roles":"onStore","click .toggle-children":"toggleChildren","click .btn-set-permission":"changePermissions"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.stuffToDo={},this.stuffToVw={},this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$el.html(this.template(e)),this.spinner=this.$("#spinner-main")},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var r=t.Misc.formToJson(e.target);this.model.save(r,{patch:!0,silent:!0})}},toggleChildren:function(t){t.preventDefault();var r=e(t.currentTarget).attr("data-resource"),i=e(t.currentTarget).attr("data-father"),n=e(t.currentTarget).attr("data-nivel1"),s=e(t.currentTarget).attr("data-nivel2");this.stuffToVw[r]instanceof Backbone.View==0&&(this.stuffToDo[r]=new app.PermisosRolList,this.stuffToVw[r]=new app.PermisosRolListView({el:"#wrapper-permisions-"+r,collection:this.stuffToDo[r],parameters:{wrapper:this.$("#wrapper-father-"+i),permissions:this.model.get("permissions"),father:r,dataFilter:{role_id:this.model.get("id"),nivel1:n,nivel2:s}}}))},changePermissions:function(t){t.preventDefault();var r=e(t.currentTarget).attr("data-resource"),i=e(t.currentTarget).attr("data-father"),n=this.stuffToDo[i],s=n.get(r);this.createPermisoRolView instanceof Backbone.View&&(this.createPermisoRolView.stopListening(),this.createPermisoRolView.undelegateEvents()),this.createPermisoRolView=new app.CreatePermisoRolView({model:s,collection:n,parameters:{permissions:this.model.get("permissions"),dataFilter:{role_id:this.model.get("id"),nivel1:s.get("nivel1"),nivel2:s.get("nivel2")}}}),this.createPermisoRolView.render()},loadSpinner:function(e,r,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,r,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(r.success)){var n=r.success?"":r.errors;if(_.isObject(r.errors)&&(n=t.Misc.parseErrors(r.errors)),!r.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("roles.edit",{roles:r.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.MainRolesView=Backbone.View.extend({el:"#roles-main",initialize:function(){this.$rolesSearchTable=this.$("#roles-search-table"),this.$rolesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("roles.index")),columns:[{data:"display_name",name:"display_name"},{data:"name",name:"name"},{data:"description",name:"description"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo Rol',className:"btn-sm",action:function(e,r,i,n){t.Misc.redirect(t.Misc.urlFull(Route.route("roles.create")))}}],columnDefs:[{targets:0,width:"25%",render:function(e,r,i,n){return'<a href="'+t.Misc.urlFull(Route.route("roles.show",{roles:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.PermisosRolItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#permissions-rol-list-tpl").html()||""),parameters:{father:null,permissions:[],edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,e.father=this.parameters.father,e.permissions=this.parameters.permissions,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.PermisosRolListView=Backbone.View.extend({events:{},parameters:{wrapper:null,father:null,edit:!1,permissions:[],dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.PermisosRolItemView({model:e,parameters:{father:this.parameters.father,permissions:this.parameters.permissions,edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,r,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,r,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.MainVerExtractosView=Backbone.View.extend({el:"#verextractos-main",initialize:function(){this.$extractosSearchTable=this.$("#extractos-search-table"),this.$extractosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("reporteverextractos.index")),columns:[{data:"name",name:"name"}],columnDefs:[{targets:0,render:function(e,r,i,n){return'<a href="'+t.Misc.urlFull(Route.route("reporteverextractos.show",{reporteverextractos:i.name}))+'"> <i class="fa fa-folder-open"></i> '+i.name+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,r,i){app.ShowVerExtractoView=Backbone.View.extend({el:"#verextractos-show",initialize:function(e){this.$extractosSearchTable=this.$("#extractos-files-search-table"),this.$extractosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("reporteverextractos.show",{reporteverextractos:e.id})),columns:[{data:"name",name:"name"}],columnDefs:[{targets:0,render:function(e,t,r,i){return'<a href="'+r.url+'" target="_blank"> <i class="fa fa-file-pdf-o"></i> '+r.name+"</a>"}}]})}})}(jQuery,this,this.document),function(e,t,r,i){var n=function(e){};n.prototype={initialize:function(){},formToJson:function(t){var r={},n=[];return n=e.prototype.isPrototypeOf(t)?t.serializeArray():e(t).serializeArray(),e.each(n,function(){r[this.name]!==i?(r[this.name].push||(r[this.name]=[r[this.name]]),r[this.name].push(this.value||"")):r[this.name]=this.value||""}),r},isUrl:function(e){var t=/^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_\+~#=]+)+(\/(.)*)?(\?(.)*)?/i;return t.test(e)},urlFull:function(e){if(!this.isUrl(r.url))return e;e||(e="");var t=/^\//;return t.test(e)||(e="/"+e),r.url+e},parseErrors:function(t){var r="";if(_.isObject(t)){var i="<ul>";e.each(t,function(e,t){i+="<li>"+t[0]+"</li>"}),i+="</ul>",r=i}return r},setSpinner:function(t){t&&e(t).prepend('<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>')},removeSpinner:function(t){var r=e(t).find(".overlay");r.length&&r.remove()},dataTableES:function(){return{sProcessing:'<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>',sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}}},currency:function(e){return accounting.formatMoney(e,"",2,".",",")},redirect:function(e){e!==i&&""!=e?t.location=e:t.location.reload()},successRedirect:function(e,r){alertify.success(e),setTimeout(function(){t.Misc.redirect(r)},500)}},t.Misc=new n,t.Misc.initialize()}(jQuery,this,this.document),function(){var e=function(){var e={absolute:!1,rootUrl:"http://localhost",routes:[{host:null,methods:["POST"],uri:"auth/login",name:"auth.login",action:"AppHttpControllersAuthAuthController@postLogin"},{host:null,methods:["GET","HEAD"],uri:"auth/logout",name:"auth.logout",action:"AppHttpControllersAuthAuthController@getLogout"},{host:null,methods:["GET","HEAD"],uri:"auth/integrate",name:"auth.integrate",action:"AppHttpControllersAuthAuthController@integrate"},{host:null,methods:["GET","HEAD"],uri:"login",name:"login",action:"AppHttpControllersAuthAuthController@getLogin"},{host:null,methods:["GET","HEAD"],uri:"/",name:"dashboard",action:"AppHttpControllersHomeController@index"},{host:null,methods:["GET","HEAD"],uri:"roles/permisos",name:"roles.permisos.index",action:"AppHttpControllersAdminPermisoRolController@index"},{host:null,methods:["PUT"],uri:"roles/permisos/{permisos}",name:"roles.permisos.update",action:"AppHttpControllersAdminPermisoRolController@update"},{host:null,methods:["PATCH"],uri:"roles/permisos/{permisos}",name:null,action:"AppHttpControllersAdminPermisoRolController@update"},{host:null,methods:["DELETE"],uri:"roles/permisos/{permisos}",name:"roles.permisos.destroy",action:"AppHttpControllersAdminPermisoRolController@destroy"},{host:null,methods:["GET","HEAD"],uri:"terceros/search",name:"terceros.search",action:"AppHttpControllersAdminTerceroController@search"},{host:null,methods:["GET","HEAD"],uri:"roles",name:"roles.index",action:"AppHttpControllersAdminRolController@index"},{host:null,methods:["GET","HEAD"],uri:"roles/create",name:"roles.create",action:"AppHttpControllersAdminRolController@create"},{host:null,methods:["POST"],uri:"roles",name:"roles.store",action:"AppHttpControllersAdminRolController@store"},{host:null,methods:["GET","HEAD"],uri:"roles/{roles}",name:"roles.show",action:"AppHttpControllersAdminRolController@show"},{host:null,methods:["GET","HEAD"],uri:"roles/{roles}/edit",name:"roles.edit",action:"AppHttpControllersAdminRolController@edit"},{host:null,methods:["PUT"],uri:"roles/{roles}",name:"roles.update",action:"AppHttpControllersAdminRolController@update"},{host:null,methods:["PATCH"],uri:"roles/{roles}",name:null,action:"AppHttpControllersAdminRolController@update"},{host:null,methods:["GET","HEAD"],uri:"terceros",name:"terceros.index",action:"AppHttpControllersAdminTerceroController@index"},{host:null,methods:["GET","HEAD"],uri:"permisos",name:"permisos.index",action:"AppHttpControllersAdminPermisoController@index"},{host:null,methods:["GET","HEAD"],uri:"generarintereses",name:"generarintereses.index",action:"AppHttpControllersReceivableGenerarInteresController@index"},{host:null,methods:["POST"],uri:"generarintereses",name:"generarintereses.store",action:"AppHttpControllersReceivableGenerarInteresController@store"},{host:null,methods:["GET","HEAD"],uri:"enviarintereses/enviar",name:"enviarintereses.enviar",action:"AppHttpControllersReceivableEnviarInteresController@enviar"},{host:null,methods:["GET","HEAD"],uri:"enviarintereses/anular/{enviarinteres}",name:"enviarintereses.anular",action:"AppHttpControllersReceivableEnviarInteresController@anular"},{host:null,methods:["GET","HEAD"],uri:"enviarintereses/exportar/{enviarinteres}",name:"enviarintereses.exportar",action:"AppHttpControllersReceivableEnviarInteresController@exportar"},{host:null,methods:["GET","HEAD"],uri:"enviarintereses/detalle",name:"enviarintereses.detalle.index",action:"AppHttpControllersReceivableDetalleEnviarInteresController@index"},{host:null,methods:["GET","HEAD"],uri:"enviarintereses",name:"enviarintereses.index",action:"AppHttpControllersReceivableEnviarInteresController@index"},{host:null,methods:["GET","HEAD"],uri:"enviarintereses/{enviarintereses}",name:"enviarintereses.show",action:"AppHttpControllersReceivableEnviarInteresController@show"},{host:null,methods:["GET","HEAD"],uri:"rintereses",name:"rintereses.index",action:"AppHttpControllersReportReporteInteresesGeneradosController@index"},{host:null,methods:["GET","HEAD"],uri:"reporteedades",name:"reporteedades.index",action:"AppHttpControllersReportReporteEdadesController@index"},{host:null,methods:["GET","HEAD"],uri:"reporteposfechados",name:"reporteposfechados.index",action:"AppHttpControllersReportReportePosFechadosController@index"},{host:null,methods:["GET","HEAD"],uri:"reporterecibos",name:"reporterecibos.index",action:"AppHttpControllersReportReporteRecibosController@index"},{host:null,methods:["GET","HEAD"],uri:"reporteresumencobro",name:"reporteresumencobro.index",action:"AppHttpControllersReportReporteResumenCobroController@index"},{host:null,methods:["GET","HEAD"],uri:"reporteverextractos",name:"reporteverextractos.index",action:"AppHttpControllersReportReporteVerExtractoController@index"},{host:null,methods:["GET","HEAD"],uri:"reporteverextractos/{reporteverextractos}",
name:"reporteverextractos.show",action:"AppHttpControllersReportReporteVerExtractoController@show"},{host:null,methods:["GET","HEAD"],uri:"reportearp",name:"reportearp.index",action:"AppHttpControllersReportReporteArpController@index"},{host:null,methods:["GET","HEAD"],uri:"reporteentradassalidas",name:"reporteentradassalidas.index",action:"AppHttpControllersReportReporteEntradasSalidasController@index"},{host:null,methods:["GET","HEAD"],uri:"reporteanalisisinventario",name:"reporteanalisisinventario.index",action:"AppHttpControllersReportReporteAnalisisInventarioController@index"}],prefix:"",route:function(e,t,r){if(r=r||this.getByName(e))return this.toRoute(r,t)},url:function(e,t){t=t||[];var r=e+"/"+t.join("/");return this.getCorrectUrl(r)},toRoute:function(e,t){var r=this.replaceNamedParameters(e.uri,t),i=this.getRouteQueryString(t);return this.absolute&&this.isOtherHost(e)?"//"+e.host+"/"+r+i:this.getCorrectUrl(r+i)},isOtherHost:function(e){return e.host&&e.host!=window.location.hostname},replaceNamedParameters:function(e,t){return e=e.replace(/\{(.*?)\??\}/g,function(e,r){if(t.hasOwnProperty(r)){var i=t[r];return delete t[r],i}return e}),e=e.replace(/\/\{.*?\?\}/g,"")},getRouteQueryString:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+"="+e[r]);return t.length<1?"":"?"+t.join("&")},getByName:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].name===e)return this.routes[t]},getByAction:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].action===e)return this.routes[t]},getCorrectUrl:function(e){var t=this.prefix+"/"+e.replace(/^\/?/,"");return this.absolute?this.rootUrl.replace("//?$/","")+t:t}},t=function(e){if(!e)return"";var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+'="'+e[r]+'"');return t.join(" ")},r=function(e,r,i){return r=r||e,i=t(i),'<a href="'+e+'" '+i+">"+r+"</a>"};return{action:function(t,r){return r=r||{},e.route(t,r,e.getByAction(t))},route:function(t,r){return r=r||{},e.route(t,r)},url:function(t,r){return r=r||{},e.url(t,r)},link_to:function(e,t,i){return e=this.url(e),r(e,t,i)},link_to_route:function(e,t,i,n){var s=this.route(e,i);return r(s,t,n)},link_to_action:function(e,t,i,n){var s=this.action(e,i);return r(s,t,n)}}}.call(this);"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:window.Route=e}.call(this),app||(app={}),function(e,t,r,i){app.AppRouter=new(Backbone.Router.extend({routes:{"login(/)":"getLogin","roles(/)":"getRolesMain","roles/create(/)":"getRolesCreate","roles/:rol/edit(/)":"getRolesEdit","permisos(/)":"getPermisosMain","generarintereses(/)":"getGenerarInteresesMain","enviarintereses(/)":"getEnviarInteresesMain","enviarintereses/:enviarintereses(/)":"getEnviarInteresesShow","reporteverextractos(/)":"getVerExtractosMain","reporteverextractos/:reporteverextractos(/)":"getVerExtractosShow"},parseQueryString:function(e){var t={};return e&&_.each(_.map(decodeURI(e).split(/&/g),function(e,t){var r=e.split("="),n={};if(r.length>=1){var s=i;2==r.length&&(s=r[1]),n[r[0]]=s}return n}),function(e){_.extend(t,e)}),t},initialize:function(e){this.componentReporteView=new app.ComponentReporteView,this.componentGlobalView=new app.ComponentGlobalView,this.componentSearchTerceroView=new app.ComponentSearchTerceroView},start:function(){var e={pushState:!0};"-1"!=r.domain.search(/(104.236.57.82|localhost)/gi)&&(e.root="/fotomoriz/public/"),Backbone.history.start(e)},getLogin:function(){this.loginView instanceof Backbone.View&&(this.loginView.stopListening(),this.loginView.undelegateEvents()),this.loginView=new app.UserLoginView},getRolesMain:function(){this.mainRolesView instanceof Backbone.View&&(this.mainRolesView.stopListening(),this.mainRolesView.undelegateEvents()),this.mainRolesView=new app.MainRolesView},getRolesCreate:function(){this.rolModel=new app.RolModel,this.createRolView instanceof Backbone.View&&(this.createRolView.stopListening(),this.createRolView.undelegateEvents()),this.createRolView=new app.CreateRolView({model:this.rolModel}),this.createRolView.render()},getRolesEdit:function(e){this.rolModel=new app.RolModel,this.rolModel.set({id:e},{silent:!0}),this.editRolView instanceof Backbone.View&&(this.editRolView.stopListening(),this.editRolView.undelegateEvents()),this.createRolView instanceof Backbone.View&&(this.createRolView.stopListening(),this.createRolView.undelegateEvents()),this.editRolView=new app.EditRolView({model:this.rolModel}),this.rolModel.fetch()},getPermisosMain:function(){this.mainPermisoView instanceof Backbone.View&&(this.mainPermisoView.stopListening(),this.mainPermisoView.undelegateEvents()),this.mainPermisoView=new app.MainPermisoView},getGenerarInteresesMain:function(){this.mainGenerarInteresView instanceof Backbone.View&&(this.mainGenerarInteresView.stopListening(),this.mainGenerarInteresView.undelegateEvents()),this.mainGenerarInteresView=new app.MainGenerarInteresView},getEnviarInteresesMain:function(){this.mainEnviarInteresView instanceof Backbone.View&&(this.mainEnviarInteresView.stopListening(),this.mainEnviarInteresView.undelegateEvents()),this.mainEnviarInteresView=new app.MainEnviarInteresView},getEnviarInteresesShow:function(e){this.intereses1Model=new app.Intereses1Model,this.intereses1Model.set({id:e},{silent:!0}),this.showEnviarInteresView instanceof Backbone.View&&(this.showEnviarInteresView.stopListening(),this.showEnviarInteresView.undelegateEvents()),this.showEnviarInteresView=new app.ShowEnviarInteresView({model:this.intereses1Model})},getVerExtractosMain:function(){this.mainVerExtractosView instanceof Backbone.View&&(this.mainVerExtractosView.stopListening(),this.mainVerExtractosView.undelegateEvents()),this.mainVerExtractosView=new app.MainVerExtractosView},getVerExtractosShow:function(e){this.showVerExtractoView instanceof Backbone.View&&(this.showVerExtractoView.stopListening(),this.showVerExtractoView.undelegateEvents()),this.showVerExtractoView=new app.ShowVerExtractoView({id:e})}}))}(jQuery,this,this.document);var app=app||{};!function(e,t,r,i){var n=function(){e.ajaxSetup({cache:!1,headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}})};String.prototype.replaceAll=function(e,t){return t?this.replace(new RegExp("["+e+"]","g"),t):this},n.prototype={initialize:function(){this.initApp(),this.initICheck(),this.initAlertify(),this.initSelect2(),this.initToUpper(),this.initSpinner(),this.initInputMask(),this.initDatePicker()},initApp:function(){t.app.AppRouter.start()},initICheck:function(){e("input").iCheck({checkboxClass:"icheckbox_minimal-red",radioClass:"iradio_minimal-red"})},initAlertify:function(){alertify.logPosition("bottom right")},initSelect2:function(){e(".select2-default").select2({language:"es",placeholder:"Seleccione",allowClear:!1}),e(".select2-default-clear").select2({language:"es",placeholder:"Seleccione",allowClear:!0})},initToUpper:function(){e(".input-toupper").keyup(function(){e(this).val(e(this).val().toUpperCase())})},initInputMask:function(){e("[data-mask]").inputmask(),e("[data-currency]").inputmask({radixPoint:",",alias:"currency",removeMaskOnSubmit:!0,unmaskAsNumber:!0,min:0})},initSpinner:function(){e(".spinner-percentage").spinner({step:.1,start:0,min:0,max:100,numberFormat:"n",stop:function(t,r){_.isNull(this.value)||_.isUndefined(this.value)||_.isEmpty(this.value)||(!e.isNumeric(this.value)||this.value>100||this.value<0)&&e(this).spinner("value",0)}})},initValidator:function(){e('form[data-toggle="validator"]').each(function(){var t=e(this);e.fn.validator.call(t,t.data())})},initDatePicker:function(){e(".datepicker").datepicker({autoclose:!0,language:"es",format:"yyyy-mm-dd"})}},e(function(){t.initComponent=new n,t.initComponent.initialize()})}(jQuery,this,this.document);